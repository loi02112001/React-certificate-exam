"use strict";(self.webpackChunksmall_quiz_maker_application=self.webpackChunksmall_quiz_maker_application||[]).push([[95],{95:(e,s,i)=>{i.r(s),i.d(s,{default:()=>v});var n=i(43),t=i(216),o=i(3),r=i(797),a=i(891),l=i(519),d=i(582),c=i(814),u=i(72),h=i(602),m=i(155),g=i(892),j=i(899),x=i(416),A=i(579);const y=e=>{let{categories:s,isSubmitting:i,onSubmit:n}=e;const t=j.Ik({categoryId:j.ai().required("Required"),difficulty:j.Yj().required("Required")});return(0,A.jsx)(g.l1,{initialValues:{categoryId:"",difficulty:""},validationSchema:t,onSubmit:async e=>{await n({categoryId:e.categoryId,difficulty:e.difficulty})},children:e=>{let{errors:n,handleBlur:t,handleChange:o,handleSubmit:r,touched:a,values:l}=e;return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(c.A,{onSubmit:r,children:(0,A.jsxs)(u.A,{children:[(0,A.jsx)(h.A,{md:5,children:(0,A.jsxs)(c.A.Group,{children:[(0,A.jsxs)(c.A.Control,{size:"md",as:"select",id:"categorySelect",name:"categoryId",value:l.categoryId,isInvalid:Boolean(a.categoryId&&n.categoryId),onBlur:t,onChange:o,children:[(0,A.jsx)("option",{disabled:!0,value:"",children:"Select a category"}),s.map((e=>(0,A.jsx)("option",{value:e.id,children:e.name},e.id)))]}),!!a.categoryId&&(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(c.A.Control.Feedback,{type:"invalid",children:n.categoryId})})]})}),(0,A.jsx)(h.A,{md:5,children:(0,A.jsxs)(c.A.Group,{children:[(0,A.jsxs)(c.A.Control,{size:"md",as:"select",id:"difficultySelect",name:"difficulty",value:l.difficulty,isInvalid:Boolean(a.difficulty&&n.difficulty),onBlur:t,onChange:o,children:[(0,A.jsx)("option",{disabled:!0,value:"",children:"Select difficulty"}),x.Q.map(((e,s)=>(0,A.jsx)("option",{value:e.value,children:e.option},s)))]}),!!a.difficulty&&(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(c.A.Control.Feedback,{type:"invalid",children:n.difficulty})})]})}),(0,A.jsx)(h.A,{md:2,children:(0,A.jsx)(m.A,{id:"createBtn",type:"submit",variant:"primary",size:"md",disabled:i,children:"Create"})})]})})})}})},f=e=>{let{question:s,answers:i,choosedAnswer:n,onChooseAnswer:t}=e;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("p",{dangerouslySetInnerHTML:{__html:s}}),i.map(((e,i)=>(0,A.jsx)(m.A,{className:"me-2 mb-4",variant:void 0!==n&&n===e?"primary":"outline-primary",onClick:()=>t({question:s,answer:e}),children:(0,A.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})},i)))]})},p=e=>{let{questions:s,choosedAnswers:i,onChooseAnswer:n,onSubmit:t}=e;return(0,A.jsxs)(A.Fragment,{children:[s.map(((e,s)=>{var t;return(0,A.jsx)(f,{question:e.question,answers:e.answers,choosedAnswer:null===(t=i.find((s=>s.question===e.question)))||void 0===t?void 0:t.answer,onChooseAnswer:n},s)})),0!==s.length&&s.length===i.length&&(0,A.jsx)("div",{className:"mt-3 d-grid gap-2",children:(0,A.jsx)(m.A,{onClick:t,children:"Submit"})})]})},v=(0,o.Ng)((e=>({isQuestionLoading:(0,a.Nz)(e),questions:(0,a.IO)(e),choosedAnswers:(0,a.z)(e)})),{resetQuestionAction:r.Qy,getListQuestionAction:r.PJ,chooseAnswerAction:r.GS})((e=>{let{isQuestionLoading:s,questions:i,choosedAnswers:o,resetQuestionAction:r,getListQuestionAction:a,chooseAnswerAction:c}=e;const u=(0,t.Zp)(),[h,m]=(0,n.useState)([]);(0,n.useEffect)((()=>{r(),(async()=>{const e=await d.A.getAllCategories();m(e.trivia_categories)})()}),[r]);const g=(0,n.useCallback)((()=>{u("/results")}),[u]),j=(0,n.useMemo)((()=>(0,A.jsx)(y,{categories:h,isSubmitting:s,onSubmit:a})),[h,s,a]),x=(0,n.useMemo)((()=>(0,A.jsx)(p,{questions:i,choosedAnswers:o,onChooseAnswer:c,onSubmit:g})),[i,o,c,g]);return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(l.A,{fluid:!0,className:"p-0",children:[(0,A.jsx)("h2",{className:"text-center",children:"QUIZ MAKER"}),(0,A.jsx)("div",{className:"mt-3",children:j}),0!==i.length&&(0,A.jsx)("div",{className:"mt-3 d-flex justify-content-center",children:(0,A.jsx)("div",{children:x})})]})})}))},891:(e,s,i)=>{i.d(s,{IO:()=>a,Nz:()=>l,z:()=>d});var n=i(99);const t=(0,n.Mz)((e=>e.question),(e=>e.questions)),o=(0,n.Mz)((e=>e.question),(e=>e.isLoading)),r=(0,n.Mz)((e=>e.question),(e=>e.choosedAnswers)),a=e=>t(e),l=e=>o(e),d=e=>r(e)}}]);
//# sourceMappingURL=95.6e377182.chunk.js.map